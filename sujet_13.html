<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Soutenance</title>
    <link href="./css/style.css" rel="stylesheet" />
    <script type="text/javascript" src="./js/tools.js"></script>
</head>
<body>
<!-- rules and instructions -->
<div class="card instructions">
    <p class="h6 font-weight-bold text-center">Consignes générales</p>
    <p>Toutes les consignes et recommandations vues en cours devront être respectées, notamment :</p>
    <ul>
        <li>du code structuré et correctement indenté,</li>
        <li>du code découpé ; ne pas hésiter à faire plusieurs fonctions (même des petites),</li>
        <li>du code DRY (Dont' Repeat Yourself),</li>
        <li>du code <strong>documenté</strong></li>
        <li>du code testé et avec un minimum de robustesse</li>
    </ul>
    <p>Eléments de départ fournis quel que soit le projet :</p>
    <ul>
        <li>ce fichier (sujet_xx.html) qui est un conteneur de votre projet</li>
        <li>un fichier de style CSS (style.css) déjà chargé via le header du document html</li>
        <li>un fichier Javascript (tools.js), déjà chargé via le header du document html, contenant divers outils :
            <ul>
                <li>une fonction d'affichage formatté d'un tableau (Array) à la fin du document html courant,</li>
                <li>une fonction d'affichage formatté d'un résultat à la fin du document html courant,</li>
                <li>une fonction de génération aléatoire d'un nombre entier compris entre 2 valeurs,</li>
                <li>une fonction de génération d'une série aléatoire de nombres entiers rangés dans un tableau de type Array,</li>
            </ul>
            N'hésitez pas à faire vos curieux sur le code disponible dans le fichier <em>tools.js</em> et à utiliser (c'est à dire appeler) les fonctions
            proposées selon votre sujet et/ou vos besoins. Vous pouvez aussi vous en inspirer...
        </li>
    </ul>
    <p>La restitution de votre travail se fera par les moyens de votre choix (zip, dépôt sur votre github, ...) au plus tard 
        le matin du jour de la soutenance.<br>
        Elle devra contenir tous les éléments pour faire tourner votre code : à minima, les fichiers tools.js, 
        style.css et, bien évidemment, le fichier sujet_xx.html que vous aurez modifié. Ajoutez tout autre fichier que vous jugeriez nécessaire
        pour restituer votre travail.
    </p>
    <p>En principe, seul l'ajout de code JavaScript entre les balises &lt;script&gt;...&lt;script&gt;
        est nécessaire mais sentez-vous libre de modifier n'importe quelle autre partie des 3 fichiers proposés (.html, .js, .css) 
        sous réserve d'en avoir une justification.
    </p>
    <p>Bien entendu, durant la semaine précédant la soutenance, <span class="text-success">je reste disponible pour répondre à toutes les questions</span> 
        pour lever les doutes, les ambiguïtés, les incompréhensions du sujet, ...<br>
        <span class="text-danger">Ne restez pas totalement bloqué</span> au risque de perdre du temps ou, pire, de supputer 
        et de vous fourvoyer... 
    </p>
</div>

<!-- subject -->
<div class="card subject">
    <p class="h6 font-weight-bold text-center">Sujet #13 - Ranger et filter</p>
    <ol>
        <li>Générer un tableau de <em>n</em> nombres entiers aléatoires (par exemple <em>n=25</em>) entre 2 bornes 
           (par exemple 0 et 200) en utilisant la fonction "randomArrayOfIntFromInterval" mise à votre 
           disposition dans le fichier <em>tools.js</em>.<br>
           Afficher dans la console le tableau ainsi généré afin de faciliter le contrôle de bonne exécution.</li>
        <li>Construire un nouveau tableau en y rangeant les nombres du premier tableau dans l'ordre inverse.</li>
        <li>Supprimer de ce tableau inversé les nombres divisibles par 3.<br>
            Par exemple, un tableau initial [22, 75, 29, 35, 93, 56, 44] deviendra au final [44, 56, 35, 29, 22]</li>
        <li>Restituer le tableau résultat à l'utilisateur par le moyen de votre choix (console, zone de résultat, ...), mais 
           la fonction "displayArray" donnée dans <em>tools.js</em> devra être privilégiée.</li>
   </ol>
</div>

<!-- html wrapper -->
<div class="card input">
    <div class="formulaire">
        <input type="number" id="number-item" placeholder="Nombre d'éléments">
        <input type="number" id="borne-min" placeholder="Borne minimum">
        <input type="number" id="borne-max" placeholder="Borne maximum">
        <button type="button" class="btn btn-primary" onclick="reverseAndFilter()">
            Inverser et filtrer
        </button>
    </div>
</div>

<!-- html display area wrapper -->
<div class="card result" id="result"></div>

<script type="text/javascript">

    // 1.Générer un tableau de n nombres entiers aléatoires (par exemple n=25) entre 2 bornes (par exemple 0 et 200) en utilisant la fonction "randomArrayOfIntFromInterval" mise à votre disposition dans le fichier tools.js. 
    // Afficher dans la console le tableau ainsi généré afin de faciliter le contrôle de bonne exécution.

    let tab = randomArrayOfIntFromInterval(randomIntFromInterval(1,10),0,200);
    // génération tableau avec entrées aléatoires entre 1-10 + nombre aléatoire entre 0-200
    console.log(tab) ;


    // 2.Construire un nouveau tableau en y rangeant les nombres du premier tableau dans l'ordre inverse.

    let tabReverse = tab.reverse() ;
    console.log(tabReverse);

    // 3.Supprimer de ce tableau inversé les nombres divisibles par 3.
    // faire une boucle for each, avec %3 et si true => push le nombre dans un autre tableau ?
    //autre hypothèse : 

    let tabBin = [];
    let tabReverseThree= [];
    let i = 0
    tabReverse.forEach((indice)=>{
        if ((indice%3) == 0){
            tabBin.push(tabReverse[i]);
            i++;
        }
        else{
            tabReverseThree.push(tabReverse[i]);
            i++;
        }
    })

    console.log(`tableau poubelle : ${tabBin}`);
    console.log(`tableau reverse sans les /3 : ${tabReverseThree}`);
    // le tableau poubelle n'est pas demandé atm, mais si on a besoin des valeurs plus tard elles seront deja stocké ?

    // 4.Restituer le tableau résultat à l'utilisateur par le moyen de votre choix (console, zone de résultat, ...), mais la fonction "displayArray" donnée dans tools.js devra être privilégiée.

    // displayArray(tabReverseThree);


    /* ================================================================================= */

    function reverseAndFilter() {
        let number = document.getElementById("number-item").value;
        let min = document.getElementById("borne-min").value;
        let max = document.getElementById("borne-max").value;

        let tab2 = randomArrayOfIntFromInterval(number, min, max);

        let tab2Reverse = tab2.reverse();
        let tab2Bin = [];
        let tab2ReverseThree = [];
        let j = 0;

        tab2Reverse.forEach((indice)=>{
            if ((indice%3) == 0){
                tab2Bin.push(tab2Reverse[j]);
                j++;
            }else{
                tab2ReverseThree.push(tab2Reverse[j]);
                j++;
            }
        })

        displayArray(tab2ReverseThree);
    }

</script>

</body>
</html>
